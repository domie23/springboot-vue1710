(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230fb4"],{ef30:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_edit page_course_selection_information",attrs:{id:"course_selection_information_edit"}},[t("div",{staticClass:"warp"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row diy_edit_content_box"},[e.$check_field("set","course_name")||e.$check_field("add","course_name")||e.$check_field("get","course_name")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(0),t("div",{staticClass:"diy_field diy_text"},[e.form["course_name"]&&e.$check_field("set","course_name")||!e.form["course_name"]&&e.$check_field("add","course_name")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["course_name"],expression:"form['course_name']"}],attrs:{type:"text",id:"form_course_name",placeholder:"请输入课程名称",disabled:e.disabledObj["course_name_isDisabled"]},domProps:{value:e.form["course_name"]},on:{input:function(t){t.target.composing||e.$set(e.form,"course_name",t.target.value)}}}):e.$check_field("get","course_name")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","lecturer")||e.$check_field("add","lecturer")||e.$check_field("get","lecturer")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(1),t("div",{staticClass:"diy_field diy_down"},[e.form["lecturer"]&&e.$check_field("set","lecturer")||!e.form["lecturer"]&&e.$check_field("add","lecturer")?t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["lecturer"],expression:"form['lecturer']"}],attrs:{id:"form_lecturer",disabled:e.disabledObj["lecturer_isDisabled"]},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"lecturer",t.target.multiple?s:s[0])}}},e._l(e.list_user_lecturer,(function(s){return t("option",{domProps:{value:s["user_id"]}},[e._v(" "+e._s(s["nickname"]+"-"+s["username"])+" ")])})),0):e.$check_field("get","lecturer")?t("span",[e._v(e._s(e.form["lecturer"]))]):e._e()])]):e._e(),e.$check_field("set","student_users")||e.$check_field("add","student_users")||e.$check_field("get","student_users")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(2),t("div",{staticClass:"diy_field diy_down"},[e.form["student_users"]&&e.$check_field("set","student_users")||!e.form["student_users"]&&e.$check_field("add","student_users")?t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["student_users"],expression:"form['student_users']"}],attrs:{id:"form_student_users",disabled:e.disabledObj["student_users_isDisabled"]},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"student_users",t.target.multiple?s:s[0])}}},e._l(e.list_user_student_users,(function(s){return t("option",{domProps:{value:s["user_id"]}},[e._v(" "+e._s(s["nickname"]+"-"+s["username"])+" ")])})),0):e.$check_field("get","student_users")?t("span",[e._v(e._s(e.form["student_users"]))]):e._e()])]):e._e(),e.$check_field("set","student_name")||e.$check_field("add","student_name")||e.$check_field("get","student_name")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(3),t("div",{staticClass:"diy_field diy_text"},[e.form["student_name"]&&e.$check_field("set","student_name")||!e.form["student_name"]&&e.$check_field("add","student_name")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["student_name"],expression:"form['student_name']"}],attrs:{type:"text",id:"form_student_name",placeholder:"请输入学生姓名",disabled:e.disabledObj["student_name_isDisabled"]},domProps:{value:e.form["student_name"]},on:{input:function(t){t.target.composing||e.$set(e.form,"student_name",t.target.value)}}}):e.$check_field("get","student_name")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","number_of_participants")||e.$check_field("add","number_of_participants")||e.$check_field("get","number_of_participants")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(4),t("div",{staticClass:"diy_field diy_down"},[e.form["number_of_participants"]&&e.$check_field("set","number_of_participants")||!e.form["number_of_participants"]&&e.$check_field("add","number_of_participants")?t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["number_of_participants"],expression:"form['number_of_participants']"}],attrs:{id:"form_number_of_participants"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"number_of_participants",t.target.multiple?s:s[0])}}},e._l(e.list_number_of_participants,(function(s){return t("option",{domProps:{value:s}},[e._v(" "+e._s(s)+" ")])})),0):e.$check_field("get","number_of_participants")?t("span",[e._v(e._s(e.form["number_of_participants"]))]):e._e()])]):e._e(),e.$check_field("set","remarks")||e.$check_field("add","remarks")||e.$check_field("get","remarks")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(5),t("div",{staticClass:"diy_field diy_desc"},[e.form["remarks"]&&e.$check_field("set","remarks")||!e.form["remarks"]&&e.$check_field("add","remarks")?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form["remarks"],expression:"form['remarks']"}],attrs:{id:"form_remarks",disabled:e.disabledObj["remarks_isDisabled"]},domProps:{value:e.form["remarks"]},on:{input:function(t){t.target.composing||e.$set(e.form,"remarks",t.target.value)}}}):e.$check_field("get","remarks")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","course_no")||e.$check_field("add","course_no")||e.$check_field("get","course_no")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(6),t("div",{staticClass:"diy_field diy_text"},[e.form["course_no"]&&e.$check_field("set","course_no")||!e.form["course_no"]&&e.$check_field("add","course_no")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["course_no"],expression:"form['course_no']"}],attrs:{type:"text",id:"form_course_no",placeholder:"请输入选课编号",disabled:!0},domProps:{value:e.form["course_no"]},on:{input:function(t){t.target.composing||e.$set(e.form,"course_no",t.target.value)}}}):e.$check_field("get","course_no")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e()]),t("div",{staticClass:"diy_edit_submit_box row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"btn_box"},[t("button",{staticClass:"btn_submit",on:{click:function(t){return e.submit()}}},[e._v("提交")])])])])])])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 课程名称: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 授课教师: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 学生用户: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 学生姓名: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 选课人数: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 备注信息: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 选课编号: ")])])}],a=s("c6e7"),_={mixins:[a["a"]],components:{},data(){return{url_get_obj:"~/api/course_selection_information/get_obj?",url_add:"~/api/course_selection_information/add?",url_set:"~/api/course_selection_information/set?",oauth:{signIn:!0,user_group:[]},query:{course_name:"",lecturer:0,student_users:0,student_name:"",number_of_participants:"",remarks:"",course_no:"",course_selection_information_id:0},obj:{course_name:"",lecturer:0,student_users:0,student_name:"",number_of_participants:"",remarks:"",course_no:this.$get_stamp(),course_selection_information_id:0},form:{course_name:"",lecturer:0,student_users:0,student_name:"",number_of_participants:"",remarks:"",course_no:this.$get_stamp(),course_selection_information_id:0},disabledObj:{course_name_isDisabled:!1,lecturer_isDisabled:!1,student_users_isDisabled:!1,student_name_isDisabled:!1,number_of_participants_isDisabled:!1,remarks_isDisabled:!1,course_no_isDisabled:!1},list_user_lecturer:[],list_user_student_users:[],list_number_of_participants:["1"],field:"course_selection_information_id"}},methods:{async get_list_user_lecturer(){var e=await this.$get("~/api/user/get_list?user_group=老师用户");e.result&&e.result.list?this.list_user_lecturer=e.result.list:e.error&&console.error(e.error)},async get_list_user_student_users(){var e=await this.$get("~/api/user/get_list?user_group=学生用户");e.result&&e.result.list?this.list_user_student_users=e.result.list:e.error&&console.error(e.error)},async get_user_session_student_users(){var e=this,t=await this.$get("~/api/user_group/get_obj?name=学生用户");if(t.result&&t.result.obj){var s=t.result.obj.source_table,r=e.$store.state.user.user_id;if(r){var i="~/api/"+s+"/get_obj?";this.$get(i,{user_id:e.$store.state.user.user_id},(function(t){if(t.result&&t.result.obj){var s=[];for(let e in t.result.obj)s.push(e);var i=[];for(let t in e.form)i.push(t);e.form["student_users"]=r,e.disabledObj["student_users_isDisabled"]=!0;for(var a=0;a<s.length;a++)if("examine_state"!==s[a]&&"examine_reply"!==s[a])for(var _=0;_<i.length;_++)if(s[a]===i[_]&&"student_users"!==s[a]){e.form[i[_]]=t.result.obj[s[a]],e.disabledObj[i[_]+"_isDisabled"]=!0;break}}}))}}else t.error&&console.error(t.error)},change_file(e,t){var s=new FormData;s.append("file",e[0]),this.$post("~/api/course_selection_information/upload?",s,e=>{e.result?this.form[t]=e.result.url:e.error&&this.$toast(e.error.message)})},get_obj_before(e){var t=$.db.get("form");if(t){var s=[];for(let e in t)s.push(e);var r=[];for(let e in this.form)r.push(e);for(var i=0;i<s.length;i++)if("examine_state"!==s[i]&&"examine_reply"!==s[i])for(var a=0;a<r.length;a++)if(r[a]===s[i]){this.form[r[a]]=t[s[i]],this.obj[r[a]]=t[s[i]],this.disabledObj[r[a]+"_isDisabled"]=!0;break}}return $.db.del("form"),e},get_obj_after(e,t){t&&t(e)}},created(){this.get_list_user_lecturer(),this.get_user_session_student_users(),this.get_list_user_student_users()}},o=_,n=s("0b56"),u=Object(n["a"])(o,r,i,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d230fb4.5c0b3f3b.js.map